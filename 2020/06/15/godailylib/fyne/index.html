<!DOCTYPE html>
<html lang="zh-cn" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Go 每日一库之 fyne - 大俊的博客</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="author" content="darjun" />
  <meta name="description" content="简介 Go 语言生态中，GUI 一直是短板，更别说跨平台的 GUI 了。fyne向前迈了一大步。fyne 是 Go 语言编写的跨平台的 UI 库，它可以很方便地移植到手机" />

  <meta name="keywords" content="大俊, 大俊的博客, go, golang, gopher" />






<meta name="generator" content="Hugo 0.60.0-DEV" />


<link rel="canonical" href="https://darjun.github.io/2020/06/15/godailylib/fyne/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.fa3d941d1d0e0ddc985804227feabffea55c89883eb0af34e0532a7ae9135151.css" integrity="sha256-&#43;j2UHR0ODdyYWAQif&#43;q//qVciYg&#43;sK804FMqeukTUVE=" media="screen" crossorigin="anonymous">




<link rel="stylesheet" href="/css/custom.css">


<meta property="og:title" content="Go 每日一库之 fyne" />
<meta property="og:description" content="简介 Go 语言生态中，GUI 一直是短板，更别说跨平台的 GUI 了。fyne向前迈了一大步。fyne 是 Go 语言编写的跨平台的 UI 库，它可以很方便地移植到手机" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://darjun.github.io/2020/06/15/godailylib/fyne/" />
<meta property="article:published_time" content="2020-06-15T23:15:55+00:00" />
<meta property="article:modified_time" content="2020-06-15T23:15:55+00:00" />
<meta itemprop="name" content="Go 每日一库之 fyne">
<meta itemprop="description" content="简介 Go 语言生态中，GUI 一直是短板，更别说跨平台的 GUI 了。fyne向前迈了一大步。fyne 是 Go 语言编写的跨平台的 UI 库，它可以很方便地移植到手机">


<meta itemprop="datePublished" content="2020-06-15T23:15:55&#43;00:00" />
<meta itemprop="dateModified" content="2020-06-15T23:15:55&#43;00:00" />
<meta itemprop="wordCount" content="10270">



<meta itemprop="keywords" content="Go 每日一库," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Go 每日一库之 fyne"/>
<meta name="twitter:description" content="简介 Go 语言生态中，GUI 一直是短板，更别说跨平台的 GUI 了。fyne向前迈了一大步。fyne 是 Go 语言编写的跨平台的 UI 库，它可以很方便地移植到手机"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-42862533-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>



</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">大俊</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://darjun.github.io/">首页</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://darjun.github.io/post/">归档</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://darjun.github.io/tags/">标签</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://darjun.github.io/categories/">分类</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://darjun.github.io/about/">关于我</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://github.com/darjun" rel="noopener" target="_blank">
              Github
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          
        
      </li>
    

    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      大俊
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://darjun.github.io/">首页</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://darjun.github.io/post/">归档</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://darjun.github.io/tags/">标签</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://darjun.github.io/categories/">分类</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://darjun.github.io/about/">关于我</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://github.com/darjun" rel="noopener" target="_blank">
              Github
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          

        

      </li>
    

    
    

    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">Go 每日一库之 fyne</h1>
      
      <div class="post-meta">
        <time datetime="2020-06-15" class="post-time">
          2020-06-15
        </time>
        <div class="post-category">
            <a href="https://darjun.github.io/categories/go/"> Go </a>
            
          </div>
        <span class="more-meta"> 约 10270 字 </span>
          <span class="more-meta"> 预计阅读 21 分钟 </span>

        
        
          <span id="busuanzi_container_page_pv">
            | 阅读 <span id="busuanzi_value_page_pv"></span>
          </span>
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#简介">简介</a></li>
<li><a href="#快速使用">快速使用</a></li>
<li><a href="#fyne-包结构划分"><code>fyne</code>包结构划分</a></li>
<li><a href="#canvas">Canvas</a></li>
<li><a href="#widget">Widget</a>
<ul>
<li><a href="#label">Label</a></li>
<li><a href="#button">Button</a></li>
<li><a href="#box">Box</a></li>
<li><a href="#entry">Entry</a></li>
<li><a href="#checkbox-radio-select"><code>Checkbox/Radio/Select</code></a></li>
<li><a href="#form">Form</a></li>
<li><a href="#progressbar">ProgressBar</a></li>
<li><a href="#tabcontainer">TabContainer</a></li>
<li><a href="#toolbar">Toolbar</a></li>
<li><a href="#扩展控件">扩展控件</a></li>
</ul></li>
<li><a href="#layout">Layout</a>
<ul>
<li><a href="#boxlayout">BoxLayout</a></li>
<li><a href="#gridlayout">GridLayout</a></li>
<li><a href="#gridwraplayout">GridWrapLayout</a></li>
<li><a href="#borderlayout">BorderLayout</a></li>
<li><a href="#formlayout">FormLayout</a></li>
<li><a href="#centerlayout">CenterLayout</a></li>
<li><a href="#maxlayout">MaxLayout</a></li>
<li><a href="#自定义-layout">自定义 Layout</a></li>
</ul></li>
<li><a href="#fyne-demo">fyne demo</a></li>
<li><a href="#fyne-命令"><code>fyne</code>命令</a>
<ul>
<li><a href="#静态资源">静态资源</a></li>
<li><a href="#发布应用程序">发布应用程序</a></li>
</ul></li>
<li><a href="#总结">总结</a></li>
<li><a href="#参考">参考</a></li>
<li><a href="#我">我</a></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      

<h2 id="简介">简介</h2>

<p>Go 语言生态中，GUI 一直是短板，更别说跨平台的 GUI 了。<a href="https://fyne.io/"><code>fyne</code></a>向前迈了一大步。<code>fyne</code> 是 Go 语言编写的<strong>跨平台的</strong> UI 库，它可以很方便地移植到手机设备上。<code>fyne</code>使用上非常简单，同时它还提供<code>fyne</code>命令打包静态资源和应用程序。我们先简单介绍基本控件和布局，然后介绍如何发布一个<code>fyne</code>应用程序。</p>

<h2 id="快速使用">快速使用</h2>

<p>本文代码使用 Go Modules。</p>

<p>先初始化：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-cmd" data-lang="cmd"><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-cmd" data-lang="cmd">$ mkdir fyne <span class="p">&amp;&amp;</span> <span class="k">cd</span> fyne
$ go mod init github.com/darjun/go-daily-lib/fyne</code></pre></td></tr></table>
</div>
</div>
<p>由于<code>fyne</code>包含一些 C/C++ 的代码，所以需要<code>gcc</code>编译工具。在 Linux/Mac OSX 上，<code>gcc</code>基本是标配，在 windows 上我们有 3 种方式安装<code>gcc</code>工具链：</p>

<ul>
<li>MSYS2 + MingW-w64：<a href="https://www.msys2.org/">https://www.msys2.org/</a>；</li>
<li>TDM-GCC：<a href="https://jmeubank.github.io/tdm-gcc/download/">https://jmeubank.github.io/tdm-gcc/download/</a>；</li>
<li>Cygwin：<a href="https://www.cygwin.com/">https://www.cygwin.com/</a>。</li>
</ul>

<p>本文选择<code>TDM-GCC</code>的方式安装。到<a href="https://jmeubank.github.io/tdm-gcc/download/">https://jmeubank.github.io/tdm-gcc/download/</a>下载安装程序并安装。正常情况下安装程序会自动设置<code>PATH</code>路径。打开命令行，键入<code>gcc -v</code>。如果正常输出版本信息，说明安装成功且环境变量设置正确。</p>

<p>安装<code>fyne</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-cmd" data-lang="cmd"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-cmd" data-lang="cmd">$ go get -u fyne.io/fyne</code></pre></td></tr></table>
</div>
</div>
<p>到此准备工作已经完成，我们开始编码。按照惯例，先以<strong>Hello, World</strong>程序开始：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
  <span class="s">&#34;fyne.io/fyne&#34;</span>
  <span class="s">&#34;fyne.io/fyne/app&#34;</span>
  <span class="s">&#34;fyne.io/fyne/widget&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>

  <span class="nx">myWin</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Hello&#34;</span><span class="p">)</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Hello Fyne!&#34;</span><span class="p">))</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>运行结果如下：</p>

<p><img src="/img/in-post/godailylib/fyne1.png#center" alt="" /></p>

<p><code>fyne</code>的使用很简单。每个<code>fyne</code>程序都包括两个部分，一个是应用程序对象<code>myApp</code>，通过<code>app.New()</code>创建。另一个是窗口对象，通过应用程序对象<code>myApp</code>来创建<code>myApp.NewWindow(&quot;Hello&quot;)</code>。<code>myApp.NewWindow()</code>方法中传入的字符串就是窗口标题。</p>

<p><code>fyne</code>提供了很多常用的组件，通过<code>widget.NewXXX()</code>创建（<code>XXX</code>为组件名）。上面示例中，我们创建了一个<code>Label</code>控件，然后设置到窗口中。最后，调用<code>myWin.ShowAndRun()</code>开始运行程序。实际上<code>myWin.ShowAndRun()</code>等价于</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="nx">myWin</span><span class="p">.</span><span class="nf">Show</span><span class="p">()</span>
<span class="nx">myApp</span><span class="p">.</span><span class="nf">Run</span><span class="p">()</span></code></pre></td></tr></table>
</div>
</div>
<p><code>myWin.Show()</code>显示窗口，<code>myApp.Run()</code>开启事件循环。</p>

<p>注意一点，<code>fyne</code>默认窗口大小是根据内容的宽高来设置的。上面我们调用<code>myWin.Resize()</code>手动设置了大小。否则窗口只能放下字符串<code>Hello Fyne!</code>。</p>

<h2 id="fyne-包结构划分"><code>fyne</code>包结构划分</h2>

<p><code>fyne</code>将功能划分到多个子包中：</p>

<ul>
<li><code>fyne.io/fyne</code>：提供所有<code>fyne</code>应用程序代码共用的基础定义，包括数据类型和接口；</li>
<li><code>fyne.io/fyne/app</code>：提供创建应用程序的 API；</li>
<li><code>fyne.io/fyne/canvas</code>：提供<code>Fyne</code>使用的绘制 API；</li>
<li><code>fyne.io/fyne/dialog</code>：提供对话框组件；</li>
<li><code>fyne.io/fyne/layout</code>：提供多种界面布局；</li>
<li><code>fyne.io/fyne/widget</code>：提供多种组件，<code>fyne</code>所有的窗体控件和交互元素都在这个子包中。</li>
</ul>

<h2 id="canvas">Canvas</h2>

<p>在<code>fyne</code>应用程序中，所有显示元素都是绘制在画布（<code>Canvas</code>）上的。这些元素都是画布对象（<code>CanvasObject</code>）。调用<code>Canvas.SetContent()</code>方法可设置画布内容。<code>Canvas</code>一般和布局（<code>Layout</code>）容器（<code>Container</code>）一起使用。<code>canvas</code>子包中提供了一些基础的画布对象：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
  <span class="s">&#34;image/color&#34;</span>
  <span class="s">&#34;math/rand&#34;</span>

  <span class="s">&#34;fyne.io/fyne&#34;</span>
  <span class="s">&#34;fyne.io/fyne/app&#34;</span>
  <span class="s">&#34;fyne.io/fyne/canvas&#34;</span>
  <span class="s">&#34;fyne.io/fyne/layout&#34;</span>
  <span class="s">&#34;fyne.io/fyne/theme&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">a</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">w</span> <span class="o">:=</span> <span class="nx">a</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Canvas&#34;</span><span class="p">)</span>

  <span class="nx">rect</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewRectangle</span><span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">)</span>

  <span class="nx">text</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;Hello Text&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">)</span>
  <span class="nx">text</span><span class="p">.</span><span class="nx">Alignment</span> <span class="p">=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nx">TextAlignTrailing</span>
  <span class="nx">text</span><span class="p">.</span><span class="nx">TextStyle</span> <span class="p">=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nx">TextStyle</span><span class="p">{</span><span class="nx">Italic</span><span class="p">:</span> <span class="kc">true</span><span class="p">}</span>

  <span class="nx">line</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewLine</span><span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">)</span>
  <span class="nx">line</span><span class="p">.</span><span class="nx">StrokeWidth</span> <span class="p">=</span> <span class="mi">5</span>

  <span class="nx">circle</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewCircle</span><span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">)</span>
  <span class="nx">circle</span><span class="p">.</span><span class="nx">StrokeColor</span> <span class="p">=</span> <span class="nx">color</span><span class="p">.</span><span class="nx">Gray</span><span class="p">{</span><span class="mh">0x99</span><span class="p">}</span>
  <span class="nx">circle</span><span class="p">.</span><span class="nx">StrokeWidth</span> <span class="p">=</span> <span class="mi">5</span>

  <span class="nx">image</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">())</span>
  <span class="nx">image</span><span class="p">.</span><span class="nx">FillMode</span> <span class="p">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">ImageFillOriginal</span>

  <span class="nx">raster</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewRasterWithPixels</span><span class="p">(</span>
    <span class="kd">func</span><span class="p">(</span><span class="nx">_</span><span class="p">,</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">w</span><span class="p">,</span> <span class="nx">h</span> <span class="kt">int</span><span class="p">)</span> <span class="nx">color</span><span class="p">.</span><span class="nx">Color</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">color</span><span class="p">.</span><span class="nx">RGBA</span><span class="p">{</span><span class="nb">uint8</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Intn</span><span class="p">(</span><span class="mi">255</span><span class="p">)),</span>
        <span class="nb">uint8</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Intn</span><span class="p">(</span><span class="mi">255</span><span class="p">)),</span>
        <span class="nb">uint8</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Intn</span><span class="p">(</span><span class="mi">255</span><span class="p">)),</span> <span class="mh">0xff</span><span class="p">}</span>
    <span class="p">},</span>
  <span class="p">)</span>

  <span class="nx">gradient</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewHorizontalGradient</span><span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">Transparent</span><span class="p">)</span>

  <span class="nx">container</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span>
    <span class="nx">layout</span><span class="p">.</span><span class="nf">NewGridWrapLayout</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">)),</span>
    <span class="nx">rect</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span> <span class="nx">line</span><span class="p">,</span> <span class="nx">circle</span><span class="p">,</span> <span class="nx">image</span><span class="p">,</span> <span class="nx">raster</span><span class="p">,</span> <span class="nx">gradient</span><span class="p">))</span>
  <span class="nx">w</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
  <span class="nx">w</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>程序运行结果如下：</p>

<p><img src="/img/in-post/godailylib/fyne2.png#center" alt="" /></p>

<p><code>canvas.Rectangle</code>是最简单的画布对象了，通过<code>canvas.NewRectangle()</code>创建，传入填充颜色。</p>

<p><code>canvas.Text</code>是显示文本的画布对象，通过<code>canvas.NewText()</code>创建，传入文本字符串和颜色。该对象可设置对齐方式和字体样式。对齐方式通过设置<code>Text</code>对象的<code>Alignment</code>字段值，取值有：</p>

<ul>
<li><code>TextAlignLeading</code>：左对齐；</li>
<li><code>TextAlignCenter</code>：中间对齐；</li>
<li><code>TextAlignTrailing</code>：右对齐。</li>
</ul>

<p>字体样式通过设置<code>Text</code>对象的<code>TextStyle</code>字段值，<code>TextStyle</code>是一个结构体：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">type</span> <span class="nx">TextStyle</span> <span class="kd">struct</span> <span class="p">{</span>
  <span class="nx">Bold</span>      <span class="kt">bool</span>
  <span class="nx">Italic</span>    <span class="kt">bool</span>
  <span class="nx">Monospace</span> <span class="kt">bool</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>对应字段设置为<code>true</code>将显示对应的样式：</p>

<ul>
<li><code>Bold</code>：粗体；</li>
<li><code>Italic</code>：斜体；</li>
<li><code>Monospace</code>：系统等宽字体。</li>
</ul>

<p>我们还可以通过设置环境变量<code>FYNE_FONT</code>为一个<code>.ttf</code>文件从而使用外部字体。</p>

<p><code>canvas.Line</code>是线段，通过<code>canvas.NewLine()</code>创建，传入颜色。可以通过<code>line.StrokeWidth</code>设置线段宽度。默认情况下，线段是从父控件或画布的<strong>左上角</strong>到<strong>右下角</strong>的。可通过<code>line.Move()</code>和<code>line.Resize()</code>修改位置。</p>

<p><code>canvas.Circle</code>是圆形，通过<code>canvas.NewCircle()</code>创建，传入颜色。另外通过<code>StrokeColor</code>和<code>StrokeWidth</code>设置圆形边框的颜色和宽度。</p>

<p><code>canvas.Image</code>是图像，可以通过已加载的程序资源创建（<code>canvas.NewImageFromResource()</code>），传入资源对象。或通过文件路径创建（<code>canvas.NewImageFromFile()</code>），传入文件路径。或通过已构造的<code>image.Image</code>对象创建（<code>canvas.NewImageFromImage()</code>）。可以通过<code>FillMode</code>设置图像的填充模式：</p>

<ul>
<li><code>ImageFillStretch</code>：拉伸，填满空间；</li>
<li><code>ImageFillContain</code>：保持宽高比；</li>
<li><code>ImageFillOriginal</code>：保持原始大小，不缩放。</li>
</ul>

<p>下面程序演示了这 3 种创建图像的方式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
  <span class="s">&#34;image&#34;</span>
  <span class="s">&#34;image/color&#34;</span>

  <span class="s">&#34;fyne.io/fyne&#34;</span>
  <span class="s">&#34;fyne.io/fyne/app&#34;</span>
  <span class="s">&#34;fyne.io/fyne/canvas&#34;</span>
  <span class="s">&#34;fyne.io/fyne/layout&#34;</span>
  <span class="s">&#34;fyne.io/fyne/theme&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">a</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">w</span> <span class="o">:=</span> <span class="nx">a</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Hello&#34;</span><span class="p">)</span>

  <span class="nx">img1</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">())</span>
  <span class="nx">img1</span><span class="p">.</span><span class="nx">FillMode</span> <span class="p">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">ImageFillOriginal</span>

  <span class="nx">img2</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromFile</span><span class="p">(</span><span class="s">&#34;./luffy.jpg&#34;</span><span class="p">)</span>
  <span class="nx">img2</span><span class="p">.</span><span class="nx">FillMode</span> <span class="p">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">ImageFillOriginal</span>

  <span class="nx">image</span> <span class="o">:=</span> <span class="nx">image</span><span class="p">.</span><span class="nf">NewAlpha</span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">Rectangle</span><span class="p">{</span><span class="nx">image</span><span class="p">.</span><span class="nx">Point</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span> <span class="nx">image</span><span class="p">.</span><span class="nx">Point</span><span class="p">{</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">}})</span>
  <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
    <span class="k">for</span> <span class="nx">j</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="p">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span> <span class="p">{</span>
      <span class="nx">image</span><span class="p">.</span><span class="nf">Set</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">Alpha</span><span class="p">{</span><span class="nb">uint8</span><span class="p">(</span><span class="nx">i</span> <span class="o">%</span> <span class="mi">256</span><span class="p">)})</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">img3</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromImage</span><span class="p">(</span><span class="nx">image</span><span class="p">)</span>
  <span class="nx">img3</span><span class="p">.</span><span class="nx">FillMode</span> <span class="p">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">ImageFillOriginal</span>

  <span class="nx">container</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span>
    <span class="nx">layout</span><span class="p">.</span><span class="nf">NewGridWrapLayout</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">)),</span>
    <span class="nx">img1</span><span class="p">,</span> <span class="nx">img2</span><span class="p">,</span> <span class="nx">img3</span><span class="p">)</span>
  <span class="nx">w</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
  <span class="nx">w</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p><code>theme.FyneLogo()</code>是 Fyne 图标资源，<code>luffy.jpg</code>是磁盘中的文件，最后创建一个<code>image.Image</code>，从中生成<code>canvas.Image</code>。</p>

<p><img src="/img/in-post/godailylib/fyne3.png#center" alt="" /></p>

<p>最后一种是梯度渐变效果，有两种类型<code>canvas.LinearGradient</code>（线性渐变）和<code>canvas.RadialGradient</code>（放射渐变），指从一种颜色渐变到另一种颜色。线性渐变又分为两种<strong>水平线性渐变</strong>和<strong>垂直线性渐变</strong>，分别通过<code>canvas.NewHorizontalGradient()</code>和<code>canvas.NewVerticalGradient()</code>创建。放射渐变通过<code>canvas.NewRadialGradient()</code>创建。我们在上面的示例中已经看到了水平线性渐变的效果，接下来一起看看放射渐变的效果：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">a</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">w</span> <span class="o">:=</span> <span class="nx">a</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Canvas&#34;</span><span class="p">)</span>

  <span class="nx">gradient</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewRadialGradient</span><span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">Transparent</span><span class="p">)</span>
  <span class="nx">w</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">gradient</span><span class="p">)</span>
  <span class="nx">w</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
  <span class="nx">w</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>运行效果如下：</p>

<p><img src="/img/in-post/godailylib/fyne4.png#center" alt="" /></p>

<p>放射效果就是从中心向周围渐变。</p>

<h2 id="widget">Widget</h2>

<p>窗体控件是一个<code>Fyne</code>应用程序的主要组成部分。它们能适配当前的主题，并且处理与用户的交互。</p>

<h3 id="label">Label</h3>

<p>标签（<code>Label</code>）是最简单的一个控件了，用于显示字符串。它有点类似于<code>canvas.Text</code>，不同之处在于<code>Label</code>可以处理简单的格式化，例如<code>\n</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWin</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Label&#34;</span><span class="p">)</span>

  <span class="nx">l1</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Name&#34;</span><span class="p">)</span>
  <span class="nx">l2</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;da\njun&#34;</span><span class="p">)</span>

  <span class="nx">container</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span><span class="nx">layout</span><span class="p">.</span><span class="nf">NewVBoxLayout</span><span class="p">(),</span> <span class="nx">l1</span><span class="p">,</span> <span class="nx">l2</span><span class="p">)</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">))</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>第二个<code>widget.Label</code>中<code>\n</code>后面的内容会在下一行渲染：</p>

<p><img src="/img/in-post/godailylib/fyne5.png#center" alt="" /></p>

<h3 id="button">Button</h3>

<p>按钮（<code>Button</code>）控件让用户点击，给用户反馈。<code>Button</code>可以包含文本，图标或两者皆有。调用<code>widget.NewButton()</code>创建一个默认的文本按钮，传入文本和一个无参的回调函数。带图标的按钮需要调用<code>widget.NewButtonWithIcon()</code>，传入文本和回调参数，还需要一个<code>fyne.Resource</code>类型的图标资源：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWin</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Button&#34;</span><span class="p">)</span>

  <span class="nx">btn1</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewButton</span><span class="p">(</span><span class="s">&#34;text button&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;text button clicked&#34;</span><span class="p">)</span>
  <span class="p">})</span>

  <span class="nx">btn2</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewButtonWithIcon</span><span class="p">(</span><span class="s">&#34;icon&#34;</span><span class="p">,</span> <span class="nx">theme</span><span class="p">.</span><span class="nf">HomeIcon</span><span class="p">(),</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;icon button clicked&#34;</span><span class="p">)</span>
  <span class="p">})</span>

  <span class="nx">container</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span><span class="nx">layout</span><span class="p">.</span><span class="nf">NewVBoxLayout</span><span class="p">(),</span> <span class="nx">btn1</span><span class="p">,</span> <span class="nx">btn2</span><span class="p">)</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>上面创建了一个文本按钮和一个图标按钮，<code>theme</code>子包中包含一些默认的图标资源，也可以加载外部的图标。运行：</p>

<p><img src="/img/in-post/godailylib/fyne6.png#center" alt="" /></p>

<p>点击按钮，对应的回调就会被调用，试试看！</p>

<h3 id="box">Box</h3>

<p>盒子控件（<code>Box</code>）就是一个简单的水平或垂直的容器。在内部，<code>Box</code>对子控件采用盒状布局（<code>Box Layout</code>），详见后文布局。我们可以通过传入控件对象给<code>widget.NewHBox()</code>或<code>widget.NewVBox()</code>创建盒子。或者调用已经创建好的<code>widget.Box</code>对象的<code>Append()</code>或<code>Prepend()</code>向盒子中添加控件。前者在尾部追加，后者在头部添加。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWin</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Box&#34;</span><span class="p">)</span>

  <span class="nx">content</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewVBox</span><span class="p">(</span>
    <span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;The top row of VBox&#34;</span><span class="p">),</span>
    <span class="nx">widget</span><span class="p">.</span><span class="nf">NewHBox</span><span class="p">(</span>
      <span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Label 1&#34;</span><span class="p">),</span>
      <span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Label 2&#34;</span><span class="p">),</span>
    <span class="p">),</span>
  <span class="p">)</span>
  <span class="nx">content</span><span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="nx">widget</span><span class="p">.</span><span class="nf">NewButton</span><span class="p">(</span><span class="s">&#34;Append&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">content</span><span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Appended&#34;</span><span class="p">))</span>
  <span class="p">}))</span>
  <span class="nx">content</span><span class="p">.</span><span class="nf">Append</span><span class="p">(</span><span class="nx">widget</span><span class="p">.</span><span class="nf">NewButton</span><span class="p">(</span><span class="s">&#34;Prepend&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">content</span><span class="p">.</span><span class="nf">Prepend</span><span class="p">(</span><span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Prepended&#34;</span><span class="p">))</span>
  <span class="p">}))</span>

  <span class="nx">myWin</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">))</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>我们甚至可以嵌套<code>widget.Box</code>控件，这样就可以实现比较灵活的布局。上面的代码中添加了两个按钮，点击时分别在尾部和头部添加一个<code>Label</code>：</p>

<p><img src="/img/in-post/godailylib/fyne7.gif#center" alt="" /></p>

<h3 id="entry">Entry</h3>

<p>输入框（<code>Entry</code>）控件用于给用户输入简单的文本内容。调用<code>widget.NewEntry()</code>即可创建一个输入框控件。我们一般保存输入框控件的引用，以便访问其<code>Text</code>字段来获取内容。注册<code>OnChanged</code>回调函数。每当内容有修改时，<code>OnChanged</code>就会被调用。我们可以调用<code>SetReadOnly(true)</code>设置输入框的只读属性。方法<code>SetPlaceHolder()</code>用来设置占位字符串，设置字段<code>Multiline</code>让输入框接受多行文本。另外，我们可以使用<code>NewPasswordEntry()</code>创建一个密码输入框，输入的文本不会以明文显示。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWin</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Entry&#34;</span><span class="p">)</span>

  <span class="nx">nameEntry</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewEntry</span><span class="p">()</span>
  <span class="nx">nameEntry</span><span class="p">.</span><span class="nf">SetPlaceHolder</span><span class="p">(</span><span class="s">&#34;input name&#34;</span><span class="p">)</span>
  <span class="nx">nameEntry</span><span class="p">.</span><span class="nx">OnChanged</span> <span class="p">=</span> <span class="kd">func</span><span class="p">(</span><span class="nx">content</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;name:&#34;</span><span class="p">,</span> <span class="nx">nameEntry</span><span class="p">.</span><span class="nx">Text</span><span class="p">,</span> <span class="s">&#34;entered&#34;</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="nx">passEntry</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewPasswordEntry</span><span class="p">()</span>
  <span class="nx">passEntry</span><span class="p">.</span><span class="nf">SetPlaceHolder</span><span class="p">(</span><span class="s">&#34;input password&#34;</span><span class="p">)</span>

  <span class="nx">nameBox</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewHBox</span><span class="p">(</span><span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Name&#34;</span><span class="p">),</span> <span class="nx">layout</span><span class="p">.</span><span class="nf">NewSpacer</span><span class="p">(),</span> <span class="nx">nameEntry</span><span class="p">)</span>
  <span class="nx">passwordBox</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewHBox</span><span class="p">(</span><span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Password&#34;</span><span class="p">),</span> <span class="nx">layout</span><span class="p">.</span><span class="nf">NewSpacer</span><span class="p">(),</span> <span class="nx">passEntry</span><span class="p">)</span>

  <span class="nx">loginBtn</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewButton</span><span class="p">(</span><span class="s">&#34;Login&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;name:&#34;</span><span class="p">,</span> <span class="nx">nameEntry</span><span class="p">.</span><span class="nx">Text</span><span class="p">,</span> <span class="s">&#34;password:&#34;</span><span class="p">,</span> <span class="nx">passEntry</span><span class="p">.</span><span class="nx">Text</span><span class="p">,</span> <span class="s">&#34;login in&#34;</span><span class="p">)</span>
  <span class="p">})</span>

  <span class="nx">multiEntry</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewEntry</span><span class="p">()</span>
  <span class="nx">multiEntry</span><span class="p">.</span><span class="nf">SetPlaceHolder</span><span class="p">(</span><span class="s">&#34;please enter\nyour description&#34;</span><span class="p">)</span>
  <span class="nx">multiEntry</span><span class="p">.</span><span class="nx">MultiLine</span> <span class="p">=</span> <span class="kc">true</span>

  <span class="nx">content</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewVBox</span><span class="p">(</span><span class="nx">nameBox</span><span class="p">,</span> <span class="nx">passwordBox</span><span class="p">,</span> <span class="nx">loginBtn</span><span class="p">,</span> <span class="nx">multiEntry</span><span class="p">)</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>这里我们实现了一个简单的登录界面：</p>

<p><img src="/img/in-post/godailylib/fyne7.png#center" alt="" /></p>

<h3 id="checkbox-radio-select"><code>Checkbox/Radio/Select</code></h3>

<p><code>CheckBox</code>是简单的选择框，每个选择是独立的，例如爱好可以是足球、篮球，也可以都是。创建方法<code>widget.NewCheck()</code>，传入选项字符串（足球，篮球）和回调函数。回调函数接受一个<code>bool</code>类型的参数，表示该选项是否选中。</p>

<p><code>Radio</code>是单选框，每个组内只能选择一个，例如性别，只能是男或女（？）。创建方法<code>widget.NewRadio()</code>，传入字符串切片和回调函数作为参数。回调函数接受一个字符串参数，表示选中的选项。也可以使用<code>Selected</code>字段读取选中的选项。</p>

<p><code>Select</code>是下拉选择框，点击时显示一个下拉菜单，点击选择。选项非常多的时候，比较适合用<code>Select</code>。创建方法<code>widget.NewSelect()</code>，参数与<code>NewRadio()</code>完全相同。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWin</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Choices&#34;</span><span class="p">)</span>

  <span class="nx">nameEntry</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewEntry</span><span class="p">()</span>
  <span class="nx">nameEntry</span><span class="p">.</span><span class="nf">SetPlaceHolder</span><span class="p">(</span><span class="s">&#34;input name&#34;</span><span class="p">)</span>

  <span class="nx">passEntry</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewPasswordEntry</span><span class="p">()</span>
  <span class="nx">passEntry</span><span class="p">.</span><span class="nf">SetPlaceHolder</span><span class="p">(</span><span class="s">&#34;input password&#34;</span><span class="p">)</span>

  <span class="nx">repeatPassEntry</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewPasswordEntry</span><span class="p">()</span>
  <span class="nx">repeatPassEntry</span><span class="p">.</span><span class="nf">SetPlaceHolder</span><span class="p">(</span><span class="s">&#34;repeat password&#34;</span><span class="p">)</span>

  <span class="nx">nameBox</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewHBox</span><span class="p">(</span><span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Name&#34;</span><span class="p">),</span> <span class="nx">layout</span><span class="p">.</span><span class="nf">NewSpacer</span><span class="p">(),</span> <span class="nx">nameEntry</span><span class="p">)</span>
  <span class="nx">passwordBox</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewHBox</span><span class="p">(</span><span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Password&#34;</span><span class="p">),</span> <span class="nx">layout</span><span class="p">.</span><span class="nf">NewSpacer</span><span class="p">(),</span> <span class="nx">passEntry</span><span class="p">)</span>
  <span class="nx">repeatPasswordBox</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewHBox</span><span class="p">(</span><span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Repeat Password&#34;</span><span class="p">),</span> <span class="nx">layout</span><span class="p">.</span><span class="nf">NewSpacer</span><span class="p">(),</span> <span class="nx">repeatPassEntry</span><span class="p">)</span>

  <span class="nx">sexRadio</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewRadio</span><span class="p">([]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;male&#34;</span><span class="p">,</span> <span class="s">&#34;female&#34;</span><span class="p">,</span> <span class="s">&#34;unknown&#34;</span><span class="p">},</span> <span class="kd">func</span><span class="p">(</span><span class="nx">value</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;sex:&#34;</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
  <span class="p">})</span>
  <span class="nx">sexBox</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewHBox</span><span class="p">(</span><span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Sex&#34;</span><span class="p">),</span> <span class="nx">sexRadio</span><span class="p">)</span>

  <span class="nx">football</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewCheck</span><span class="p">(</span><span class="s">&#34;football&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">value</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;football:&#34;</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
  <span class="p">})</span>
  <span class="nx">basketball</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewCheck</span><span class="p">(</span><span class="s">&#34;basketball&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">value</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;basketball:&#34;</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
  <span class="p">})</span>
  <span class="nx">pingpong</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewCheck</span><span class="p">(</span><span class="s">&#34;pingpong&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">value</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;pingpong:&#34;</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
  <span class="p">})</span>
  <span class="nx">hobbyBox</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewHBox</span><span class="p">(</span><span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Hobby&#34;</span><span class="p">),</span> <span class="nx">football</span><span class="p">,</span> <span class="nx">basketball</span><span class="p">,</span> <span class="nx">pingpong</span><span class="p">)</span>

  <span class="nx">provinceSelect</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewSelect</span><span class="p">([]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;anhui&#34;</span><span class="p">,</span> <span class="s">&#34;zhejiang&#34;</span><span class="p">,</span> <span class="s">&#34;shanghai&#34;</span><span class="p">},</span> <span class="kd">func</span><span class="p">(</span><span class="nx">value</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;province:&#34;</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
  <span class="p">})</span>
  <span class="nx">provinceBox</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewHBox</span><span class="p">(</span><span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Province&#34;</span><span class="p">),</span> <span class="nx">layout</span><span class="p">.</span><span class="nf">NewSpacer</span><span class="p">(),</span> <span class="nx">provinceSelect</span><span class="p">)</span>

  <span class="nx">registerBtn</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewButton</span><span class="p">(</span><span class="s">&#34;Register&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;name:&#34;</span><span class="p">,</span> <span class="nx">nameEntry</span><span class="p">.</span><span class="nx">Text</span><span class="p">,</span> <span class="s">&#34;password:&#34;</span><span class="p">,</span> <span class="nx">passEntry</span><span class="p">.</span><span class="nx">Text</span><span class="p">,</span> <span class="s">&#34;register&#34;</span><span class="p">)</span>
  <span class="p">})</span>

  <span class="nx">content</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewVBox</span><span class="p">(</span><span class="nx">nameBox</span><span class="p">,</span> <span class="nx">passwordBox</span><span class="p">,</span> <span class="nx">repeatPasswordBox</span><span class="p">,</span>
    <span class="nx">sexBox</span><span class="p">,</span> <span class="nx">hobbyBox</span><span class="p">,</span> <span class="nx">provinceBox</span><span class="p">,</span> <span class="nx">registerBtn</span><span class="p">)</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
  <span class="nx">myWin</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>这里我们实现了一个简单的注册界面：</p>

<p><img src="/img/in-post/godailylib/fyne8.png#center" alt="" /></p>

<h3 id="form">Form</h3>

<p>表单控件（<code>Form</code>）用于对很多<code>Label</code>和输入控件进行布局。如果指定了<code>OnSubmit</code>或<code>OnCancel</code>函数，表单控件会自动添加对应的<code>Button</code>按钮。我们调用<code>widget.NewForm()</code>传入一个<code>widget.FormItem</code>切片创建<code>Form</code>控件。每一项中一个字符串作为<code>Label</code>的文本，一个控件对象。创建好<code>Form</code>对象之后还能调用其<code>Append(label, widget)</code>方法添加控件。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWindow</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Form&#34;</span><span class="p">)</span>

  <span class="nx">nameEntry</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewEntry</span><span class="p">()</span>
  <span class="nx">passEntry</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewPasswordEntry</span><span class="p">()</span>

  <span class="nx">form</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewForm</span><span class="p">(</span>
    <span class="o">&amp;</span><span class="nx">widget</span><span class="p">.</span><span class="nx">FormItem</span><span class="p">{</span><span class="s">&#34;Name&#34;</span><span class="p">,</span> <span class="nx">nameEntry</span><span class="p">},</span>
    <span class="o">&amp;</span><span class="nx">widget</span><span class="p">.</span><span class="nx">FormItem</span><span class="p">{</span><span class="s">&#34;Pass&#34;</span><span class="p">,</span> <span class="nx">passEntry</span><span class="p">},</span>
  <span class="p">)</span>
  <span class="nx">form</span><span class="p">.</span><span class="nx">OnSubmit</span> <span class="p">=</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;name:&#34;</span><span class="p">,</span> <span class="nx">nameEntry</span><span class="p">.</span><span class="nx">Text</span><span class="p">,</span> <span class="s">&#34;pass:&#34;</span><span class="p">,</span> <span class="nx">passEntry</span><span class="p">.</span><span class="nx">Text</span><span class="p">,</span> <span class="s">&#34;login in&#34;</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nx">form</span><span class="p">.</span><span class="nx">OnCancel</span> <span class="p">=</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;login canceled&#34;</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">form</span><span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">))</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>使用<code>Form</code>能大大简化表单的构建，我们使用<code>Form</code>重新编写了上面的登录界面：</p>

<p><img src="/img/in-post/godailylib/fyne9.png#center" alt="" /></p>

<p>注意<code>Submit</code>和<code>Cancel</code>按钮是自动生成的！</p>

<h3 id="progressbar">ProgressBar</h3>

<p>进度条控件（<code>ProgressBar</code>）用来表示任务的进度，例如文件下载的进度。创建方法<code>widget.NewProgressBar()</code>，默认最小值为<code>0.0</code>，最大值为<code>1.1</code>，可通过<code>Min/Max</code>字段设置。调用<code>SetValue()</code>方法来控制进度。还有一种进度条是循环动画，它表示有任务在进行中，并不能表示具体的完成情况。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWindow</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;ProgressBar&#34;</span><span class="p">)</span>

  <span class="nx">bar1</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewProgressBar</span><span class="p">()</span>
  <span class="nx">bar1</span><span class="p">.</span><span class="nx">Min</span> <span class="p">=</span> <span class="mi">0</span>
  <span class="nx">bar1</span><span class="p">.</span><span class="nx">Max</span> <span class="p">=</span> <span class="mi">100</span>
  <span class="nx">bar2</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewProgressBarInfinite</span><span class="p">()</span>

  <span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">;</span> <span class="nx">i</span> <span class="o">++</span> <span class="p">{</span>
      <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span> <span class="o">*</span> <span class="mi">500</span><span class="p">)</span>
      <span class="nx">bar1</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="nb">float64</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span>
    <span class="p">}</span>
  <span class="p">}()</span>

  <span class="nx">content</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewVBox</span><span class="p">(</span><span class="nx">bar1</span><span class="p">,</span> <span class="nx">bar2</span><span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">))</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>在另一个 goroutine 中更新进度。效果如下：</p>

<p><img src="/img/in-post/godailylib/fyne10.png#center" alt="" /></p>

<h3 id="tabcontainer">TabContainer</h3>

<p>标签容器（<code>TabContainer</code>）允许用户在不同的内容面板之间切换。标签可以是文本或图标。创建方法<code>widget.NewTabContainer()</code>，传入<code>widget.TabItem</code>作为参数。<code>widget.TabItem</code>可通过<code>widget.NewTabItem(label, widget)</code>创建。标签还可以设置位置：</p>

<ul>
<li><code>TabLocationBottom</code>：显示在底部；</li>
<li><code>TabLocationLeading</code>：显示在顶部左边；</li>
<li><code>TabLocationTrailing</code>：显示在顶部右边。</li>
</ul>

<p>看示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWindow</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;TabContainer&#34;</span><span class="p">)</span>

  <span class="nx">nameLabel</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Name: dajun&#34;</span><span class="p">)</span>
  <span class="nx">sexLabel</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Sex: male&#34;</span><span class="p">)</span>
  <span class="nx">ageLabel</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Age: 18&#34;</span><span class="p">)</span>
  <span class="nx">addressLabel</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">&#34;Province: shanghai&#34;</span><span class="p">)</span>
  <span class="nx">addressLabel</span><span class="p">.</span><span class="nf">Hide</span><span class="p">()</span>
  <span class="nx">profile</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewVBox</span><span class="p">(</span><span class="nx">nameLabel</span><span class="p">,</span> <span class="nx">sexLabel</span><span class="p">,</span> <span class="nx">ageLabel</span><span class="p">,</span> <span class="nx">addressLabel</span><span class="p">)</span>

  <span class="nx">musicRadio</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewRadio</span><span class="p">([]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;on&#34;</span><span class="p">,</span> <span class="s">&#34;off&#34;</span><span class="p">},</span> <span class="kd">func</span><span class="p">(</span><span class="kt">string</span><span class="p">)</span> <span class="p">{})</span>
  <span class="nx">showAddressCheck</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewCheck</span><span class="p">(</span><span class="s">&#34;show address?&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">value</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">!</span><span class="nx">value</span> <span class="p">{</span>
      <span class="nx">addressLabel</span><span class="p">.</span><span class="nf">Hide</span><span class="p">()</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">addressLabel</span><span class="p">.</span><span class="nf">Show</span><span class="p">()</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="nx">memberTypeSelect</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewSelect</span><span class="p">([]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;junior&#34;</span><span class="p">,</span> <span class="s">&#34;senior&#34;</span><span class="p">,</span> <span class="s">&#34;admin&#34;</span><span class="p">},</span> <span class="kd">func</span><span class="p">(</span><span class="kt">string</span><span class="p">)</span> <span class="p">{})</span>

  <span class="nx">setting</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewForm</span><span class="p">(</span>
    <span class="o">&amp;</span><span class="nx">widget</span><span class="p">.</span><span class="nx">FormItem</span><span class="p">{</span><span class="s">&#34;music&#34;</span><span class="p">,</span> <span class="nx">musicRadio</span><span class="p">},</span>
    <span class="o">&amp;</span><span class="nx">widget</span><span class="p">.</span><span class="nx">FormItem</span><span class="p">{</span><span class="s">&#34;check&#34;</span><span class="p">,</span> <span class="nx">showAddressCheck</span><span class="p">},</span>
    <span class="o">&amp;</span><span class="nx">widget</span><span class="p">.</span><span class="nx">FormItem</span><span class="p">{</span><span class="s">&#34;member type&#34;</span><span class="p">,</span> <span class="nx">memberTypeSelect</span><span class="p">},</span>
  <span class="p">)</span>

  <span class="nx">tabs</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewTabContainer</span><span class="p">(</span>
    <span class="nx">widget</span><span class="p">.</span><span class="nf">NewTabItem</span><span class="p">(</span><span class="s">&#34;Profile&#34;</span><span class="p">,</span> <span class="nx">profile</span><span class="p">),</span>
    <span class="nx">widget</span><span class="p">.</span><span class="nf">NewTabItem</span><span class="p">(</span><span class="s">&#34;Setting&#34;</span><span class="p">,</span> <span class="nx">setting</span><span class="p">),</span>
  <span class="p">)</span>

  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">tabs</span><span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>上面代码编写了一个简单的个人信息面板和设置面板，点击<code>show address？</code>可切换地址信息是否显示：</p>

<p><img src="/img/in-post/godailylib/fyne11.png#center" alt="" />
<img src="/img/in-post/godailylib/fyne12.png#center" alt="" /></p>

<h3 id="toolbar">Toolbar</h3>

<p>工具栏（<code>Toolbar</code>）是很多 GUI 应用程序必备的部分。工具栏将常用命令用图标的方式很形象地展示出来，方便使用。创建方法<code>widget.NewToolbar()</code>，传入多个<code>widget.ToolbarItem</code>作为参数。最常使用的<code>ToolbarItem</code>有命令（<code>Action</code>）、分隔符（<code>Separator</code>）和空白（<code>Spacer</code>），分别通过<code>widget.NewToolbarItemAction(resource, callback)</code>/<code>widget.NewToolbarSeparator()</code>/<code>widget.NewToolbarSpacer()</code>创建。命令需要指定回调，点击时触发。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWindow</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Toolbar&#34;</span><span class="p">)</span>

  <span class="nx">toolbar</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewToolbar</span><span class="p">(</span>
    <span class="nx">widget</span><span class="p">.</span><span class="nf">NewToolbarAction</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">DocumentCreateIcon</span><span class="p">(),</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;New document&#34;</span><span class="p">)</span>
    <span class="p">}),</span>
    <span class="nx">widget</span><span class="p">.</span><span class="nf">NewToolbarSeparator</span><span class="p">(),</span>
    <span class="nx">widget</span><span class="p">.</span><span class="nf">NewToolbarAction</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">ContentCutIcon</span><span class="p">(),</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Cut&#34;</span><span class="p">)</span>
    <span class="p">}),</span>
    <span class="nx">widget</span><span class="p">.</span><span class="nf">NewToolbarAction</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">ContentCopyIcon</span><span class="p">(),</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Copy&#34;</span><span class="p">)</span>
    <span class="p">}),</span>
    <span class="nx">widget</span><span class="p">.</span><span class="nf">NewToolbarAction</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">ContentPasteIcon</span><span class="p">(),</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Paste&#34;</span><span class="p">)</span>
    <span class="p">}),</span>
    <span class="nx">widget</span><span class="p">.</span><span class="nf">NewToolbarSpacer</span><span class="p">(),</span>
    <span class="nx">widget</span><span class="p">.</span><span class="nf">NewToolbarAction</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">HelpIcon</span><span class="p">(),</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Display help&#34;</span><span class="p">)</span>
    <span class="p">}),</span>
  <span class="p">)</span>

  <span class="nx">content</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span>
    <span class="nx">layout</span><span class="p">.</span><span class="nf">NewBorderLayout</span><span class="p">(</span><span class="nx">toolbar</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">nil</span><span class="p">),</span>
    <span class="nx">toolbar</span><span class="p">,</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">`Lorem ipsum dolor, 
</span><span class="s">    sit amet consectetur adipisicing elit.
</span><span class="s">    Quidem consectetur ipsam nesciunt,
</span><span class="s">    quasi sint expedita minus aut,
</span><span class="s">    porro iusto magnam ducimus voluptates cum vitae.
</span><span class="s">    Vero adipisci earum iure consequatur quidem.`</span><span class="p">),</span>
  <span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>工具栏一般使用<code>BorderLayout</code>，将工具栏放在其他任何控件上面，布局后文会详述。运行：</p>

<p><img src="/img/in-post/godailylib/fyne13.png#center" alt="" /></p>

<h3 id="扩展控件">扩展控件</h3>

<p>标准的 Fyne 控件提供了最小的功能集和定制化以适应大部分的应用场景。有些时候，我们需要更高级的功能。除了自己编写控件外，我们还可以扩展现有的控件。例如，我们希望图标控件<code>widget.Icon</code>能响应鼠标左键、右键和双击。首先编写一个<strong>构造函数</strong>，调用<code>ExtendBaseWidget()</code>方法获得基础的控件功能：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">type</span> <span class="nx">tappableIcon</span> <span class="kd">struct</span> <span class="p">{</span>
  <span class="nx">widget</span><span class="p">.</span><span class="nx">Icon</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">newTappableIcon</span><span class="p">(</span><span class="nx">res</span> <span class="nx">fyne</span><span class="p">.</span><span class="nx">Resource</span><span class="p">)</span> <span class="o">*</span><span class="nx">tappableIcon</span> <span class="p">{</span>
  <span class="nx">icon</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">tappableIcon</span><span class="p">{}</span>
  <span class="nx">icon</span><span class="p">.</span><span class="nf">ExtendBaseWidget</span><span class="p">(</span><span class="nx">icon</span><span class="p">)</span>
  <span class="nx">icon</span><span class="p">.</span><span class="nf">SetResource</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span>

  <span class="k">return</span> <span class="nx">icon</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>然后实现相关的接口：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="c1">// src/fyne.io/fyne/canvasobject.go
</span><span class="c1">// 鼠标左键
</span><span class="c1"></span><span class="kd">type</span> <span class="nx">Tappable</span> <span class="kd">interface</span> <span class="p">{</span>
  <span class="nf">Tapped</span><span class="p">(</span><span class="o">*</span><span class="nx">PointEvent</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// 鼠标右键或长按
</span><span class="c1"></span><span class="kd">type</span> <span class="nx">SecondaryTappable</span> <span class="kd">interface</span> <span class="p">{</span>
  <span class="nf">TappedSecondary</span><span class="p">(</span><span class="o">*</span><span class="nx">PointEvent</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// 双击
</span><span class="c1"></span><span class="kd">type</span> <span class="nx">DoubleTappable</span> <span class="kd">interface</span> <span class="p">{</span>
  <span class="nf">DoubleTapped</span><span class="p">(</span><span class="o">*</span><span class="nx">PointEvent</span><span class="p">)</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>接口实现：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">tappableIcon</span><span class="p">)</span> <span class="nf">Tapped</span><span class="p">(</span><span class="nx">e</span> <span class="o">*</span><span class="nx">fyne</span><span class="p">.</span><span class="nx">PointEvent</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;I have been left tapped at&#34;</span><span class="p">,</span> <span class="nx">e</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">tappableIcon</span><span class="p">)</span> <span class="nf">TappedSecondary</span><span class="p">(</span><span class="nx">e</span> <span class="o">*</span><span class="nx">fyne</span><span class="p">.</span><span class="nx">PointEvent</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;I have been right tapped at&#34;</span><span class="p">,</span> <span class="nx">e</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">tappableIcon</span><span class="p">)</span> <span class="nf">DoubleTapped</span><span class="p">(</span><span class="nx">e</span> <span class="o">*</span><span class="nx">fyne</span><span class="p">.</span><span class="nx">PointEvent</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;I have been double tapped at&#34;</span><span class="p">,</span> <span class="nx">e</span><span class="p">)</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>最后使用：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">a</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">w</span> <span class="o">:=</span> <span class="nx">a</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Tappable&#34;</span><span class="p">)</span>
  <span class="nx">w</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nf">newTappableIcon</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">()))</span>
  <span class="nx">w</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
  <span class="nx">w</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>运行，点击图标控制台有相应输出：</p>

<p><img src="/img/in-post/godailylib/fyne23.png#center" alt="" /></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-cmd" data-lang="cmd"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-cmd" data-lang="cmd">2020/06/18 06:44:02 I have been left tapped at <span class="p">&amp;</span>{{110 97} {106 93}}
2020/06/18 06:44:03 I have been left tapped at <span class="p">&amp;</span>{{110 97} {106 93}}
2020/06/18 06:44:05 I have been right tapped at <span class="p">&amp;</span>{{88 102} {84 98}}
2020/06/18 06:44:06 I have been right tapped at <span class="p">&amp;</span>{{88 102} {84 98}}
2020/06/18 06:44:06 I have been left tapped at <span class="p">&amp;</span>{{88 101} {84 97}}
2020/06/18 06:44:07 I have been double tapped at <span class="p">&amp;</span>{{88 101} {84 97}}</code></pre></td></tr></table>
</div>
</div>
<p>输出的<code>fyne.PointEvent</code>中有绝对位置（对于窗口左上角）和相对位置（对于容器左上角）。</p>

<h2 id="layout">Layout</h2>

<p>布局（<code>Layout</code>）就是控件如何在界面上显示，如何排列的。要想界面好看，布局是必须要掌握的。几乎所有的 GUI 框架都提供了布局或类似的接口。实际上，在前面的示例中我们已经在<code>fyne.NewContainerWithLayout()</code>函数中使用了布局。</p>

<h3 id="boxlayout">BoxLayout</h3>

<p>盒状布局（<code>BoxLayout</code>）是最常使用的一个布局。它将控件都排在一行或一列。在<code>fyne</code>中，我们可以通过<code>layout.NewHBoxLayout()</code>创建一个水平盒装布局，通过<code>layout.NewVBoxLayout()</code>创建一个垂直盒装布局。水平布局中的控件都排列在一行中，每个控件的宽度等于其内容的最小宽度（<code>MinSize().Width</code>），它们都拥有相同的高度，即所有控件的最大高度（<code>MinSize().Height</code>）。</p>

<p>垂直布局中的控件都排列在一列中，每个控件的高度等于其内容的最小高度，它们都拥有相同的宽度，即所有控件的最大宽度。</p>

<p>一般地，在<code>BoxLayout</code>中使用<code>layout.NewSpacer()</code>辅助布局，它会占满剩余的空间。对于水平盒状布局来说，第一个控件前添加一个<code>layout.NewSpacer()</code>，所有控件右对齐。最后一个控件后添加一个<code>layout.NewSpacer()</code>，所有控件左对齐。前后都有，那么控件中间对齐。如果在中间有添加一个<code>layout.NewSpacer()</code>，那么其它控件两边对齐。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWindow</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Box Layout&#34;</span><span class="p">)</span>

  <span class="nx">hcontainer1</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span><span class="nx">layout</span><span class="p">.</span><span class="nf">NewHBoxLayout</span><span class="p">(),</span>
    <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;left&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">),</span>
    <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;right&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">))</span>

  <span class="c1">// 左对齐
</span><span class="c1"></span>  <span class="nx">hcontainer2</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span><span class="nx">layout</span><span class="p">.</span><span class="nf">NewHBoxLayout</span><span class="p">(),</span>
    <span class="nx">layout</span><span class="p">.</span><span class="nf">NewSpacer</span><span class="p">(),</span>
    <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;left&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">),</span>
    <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;right&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">))</span>

  <span class="c1">// 右对齐
</span><span class="c1"></span>  <span class="nx">hcontainer3</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span><span class="nx">layout</span><span class="p">.</span><span class="nf">NewHBoxLayout</span><span class="p">(),</span>
    <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;left&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">),</span>
    <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;right&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">),</span>
    <span class="nx">layout</span><span class="p">.</span><span class="nf">NewSpacer</span><span class="p">())</span>

  <span class="c1">// 中间对齐
</span><span class="c1"></span>  <span class="nx">hcontainer4</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span><span class="nx">layout</span><span class="p">.</span><span class="nf">NewHBoxLayout</span><span class="p">(),</span>
    <span class="nx">layout</span><span class="p">.</span><span class="nf">NewSpacer</span><span class="p">(),</span>
    <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;left&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">),</span>
    <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;right&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">),</span>
    <span class="nx">layout</span><span class="p">.</span><span class="nf">NewSpacer</span><span class="p">())</span>

  <span class="c1">// 两边对齐
</span><span class="c1"></span>  <span class="nx">hcontainer5</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span><span class="nx">layout</span><span class="p">.</span><span class="nf">NewHBoxLayout</span><span class="p">(),</span>
    <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;left&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">),</span>
    <span class="nx">layout</span><span class="p">.</span><span class="nf">NewSpacer</span><span class="p">(),</span>
    <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;right&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">))</span>

  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span><span class="nx">layout</span><span class="p">.</span><span class="nf">NewVBoxLayout</span><span class="p">(),</span>
    <span class="nx">hcontainer1</span><span class="p">,</span> <span class="nx">hcontainer2</span><span class="p">,</span> <span class="nx">hcontainer3</span><span class="p">,</span> <span class="nx">hcontainer4</span><span class="p">,</span> <span class="nx">hcontainer5</span><span class="p">))</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>运行效果：</p>

<p><img src="/img/in-post/godailylib/fyne14.png#center" alt="" /></p>

<h3 id="gridlayout">GridLayout</h3>

<p>格子布局（<code>GridLayout</code>）每一行有固定的列，添加的控件数量超过这个值时，后面的控件将会在新的行显示。创建方法<code>layout.NewGridLayout(cols)</code>，传入每行的列数。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWindow</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Grid Layout&#34;</span><span class="p">)</span>

  <span class="nx">img1</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">())</span>
  <span class="nx">img2</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">())</span>
  <span class="nx">img3</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">())</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span><span class="nx">layout</span><span class="p">.</span><span class="nf">NewGridLayout</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
    <span class="nx">img1</span><span class="p">,</span> <span class="nx">img2</span><span class="p">,</span> <span class="nx">img3</span><span class="p">))</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">))</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>运行效果：</p>

<p><img src="/img/in-post/godailylib/fyne15.png#center" alt="" /></p>

<p>该布局有个优势，我们缩放界面时，控件会自动调整大小。试试看~</p>

<h3 id="gridwraplayout">GridWrapLayout</h3>

<p><code>GridWrapLayout</code>是<code>GridLayout</code>的扩展。<code>GridWrapLayout</code>创建时会指定一个初始<code>size</code>，这个<code>size</code>会应用到所有的子控件上，每个子控件都保持这个<code>size</code>。初始，每行一个控件。如果界面大小变化了，这些子控件会重新排列。例如宽度翻倍了，那么一行就可以排两个控件了。有点像流动布局：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWindow</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Grid Wrap Layout&#34;</span><span class="p">)</span>

  <span class="nx">img1</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">())</span>
  <span class="nx">img2</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">())</span>
  <span class="nx">img3</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">())</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span>
    <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span>
      <span class="nx">layout</span><span class="p">.</span><span class="nf">NewGridWrapLayout</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">)),</span>
      <span class="nx">img1</span><span class="p">,</span> <span class="nx">img2</span><span class="p">,</span> <span class="nx">img3</span><span class="p">))</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>初始：</p>

<p><img src="/img/in-post/godailylib/fyne16.png#center" alt="" /></p>

<p>加大宽度：</p>

<p><img src="/img/in-post/godailylib/fyne17.png#center" alt="" /></p>

<p>再加大宽度：</p>

<p><img src="/img/in-post/godailylib/fyne18.png#center" alt="" /></p>

<h3 id="borderlayout">BorderLayout</h3>

<p>边框布局（<code>BorderLayout</code>）比较常用于构建用户界面，上面例子中的<code>Toolbar</code>一般都和<code>BorderLayout</code>搭配使用。创建方法<code>layout.NewBorderLayout(top, bottom, left, right)</code>，分别传入顶部、底部、左侧、右侧的控件对象。添加到容器中的控件如果是这些<strong>边界</strong>对象，则显示在对应位置，其他都显示在中心：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWindow</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Border Layout&#34;</span><span class="p">)</span>

  <span class="nx">left</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;left&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">)</span>
  <span class="nx">right</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;right&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">)</span>
  <span class="nx">top</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;top&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">)</span>
  <span class="nx">bottom</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;bottom&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">)</span>
  <span class="nx">content</span> <span class="o">:=</span> <span class="nx">widget</span><span class="p">.</span><span class="nf">NewLabel</span><span class="p">(</span><span class="s">`Lorem ipsum dolor, 
</span><span class="s">  sit amet consectetur adipisicing elit.
</span><span class="s">  Quidem consectetur ipsam nesciunt,
</span><span class="s">  quasi sint expedita minus aut,
</span><span class="s">  porro iusto magnam ducimus voluptates cum vitae.
</span><span class="s">  Vero adipisci earum iure consequatur quidem.`</span><span class="p">)</span>

  <span class="nx">container</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span>
    <span class="nx">layout</span><span class="p">.</span><span class="nf">NewBorderLayout</span><span class="p">(</span><span class="nx">top</span><span class="p">,</span> <span class="nx">bottom</span><span class="p">,</span> <span class="nx">left</span><span class="p">,</span> <span class="nx">right</span><span class="p">),</span>
    <span class="nx">top</span><span class="p">,</span> <span class="nx">bottom</span><span class="p">,</span> <span class="nx">left</span><span class="p">,</span> <span class="nx">right</span><span class="p">,</span> <span class="nx">content</span><span class="p">,</span>
  <span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>效果：</p>

<p><img src="/img/in-post/godailylib/fyne19.png#center" alt="" /></p>

<h3 id="formlayout">FormLayout</h3>

<p>表单布局（<code>FormLayout</code>）其实就是一个 2 列的<code>GridLayout</code>，但是针对表单做了一些微调。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWindow</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Border Layout&#34;</span><span class="p">)</span>

  <span class="nx">nameLabel</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;Name&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">Black</span><span class="p">)</span>
  <span class="nx">nameValue</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;dajun&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">)</span>
  <span class="nx">ageLabel</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;Age&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">Black</span><span class="p">)</span>
  <span class="nx">ageValue</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;18&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">White</span><span class="p">)</span>

  <span class="nx">container</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span>
    <span class="nx">layout</span><span class="p">.</span><span class="nf">NewFormLayout</span><span class="p">(),</span>
    <span class="nx">nameLabel</span><span class="p">,</span> <span class="nx">nameValue</span><span class="p">,</span> <span class="nx">ageLabel</span><span class="p">,</span> <span class="nx">ageValue</span><span class="p">,</span>
  <span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">))</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>运行效果：</p>

<p><img src="/img/in-post/godailylib/fyne20.png#center" alt="" /></p>

<h3 id="centerlayout">CenterLayout</h3>

<p><code>CenterLayout</code>将容器内的所有控件显示在中心位置，按传入的顺序显示。最后传入的控件显示最上层。<code>CenterLayout</code>中所有控件将保持它们的最小尺寸（大小能容纳其内容）。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWindow</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Center Layout&#34;</span><span class="p">)</span>

  <span class="nx">image</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">())</span>
  <span class="nx">image</span><span class="p">.</span><span class="nx">FillMode</span> <span class="p">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">ImageFillOriginal</span>
  <span class="nx">text</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;Fyne Logo&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">Black</span><span class="p">)</span>

  <span class="nx">container</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span>
    <span class="nx">layout</span><span class="p">.</span><span class="nf">NewCenterLayout</span><span class="p">(),</span>
    <span class="nx">image</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span>
  <span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>运行结果：</p>

<p><img src="/img/in-post/godailylib/fyne21.png#center" alt="" /></p>

<p>字符串<code>Fyne Logo</code>显示在图片上层。如果我们把<code>text</code>和<code>image</code>顺序对调，字符串将会被图片挡住，无法看到。动手试一下~</p>

<h3 id="maxlayout">MaxLayout</h3>

<p><code>MaxLayout</code>与<code>CenterLayout</code>类似，不同之处在于<code>MaxLayout</code>会让容器内的元素都显示为最大尺寸（等于容器的大小）。细心的朋友可能发现了，在<code>CenterLayout</code>的示例中。我们设置了图片的填充模式为<code>ImageFillOriginal</code>。如果不设置填充模式，图片的默认<code>MinSize</code>为<code>(1, 1)</code>。可以<code>fmt.Println(image.MinSize())</code>验证一下。这样图片就不会显示在界面中。</p>

<p>在<code>MaxLayout</code>的容器中，我们不需要这样处理：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWindow</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Max Layout&#34;</span><span class="p">)</span>

  <span class="nx">image</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">())</span>
  <span class="nx">text</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewText</span><span class="p">(</span><span class="s">&#34;Fyne Logo&#34;</span><span class="p">,</span> <span class="nx">color</span><span class="p">.</span><span class="nx">Black</span><span class="p">)</span>

  <span class="nx">container</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span>
    <span class="nx">layout</span><span class="p">.</span><span class="nf">NewMaxLayout</span><span class="p">(),</span>
    <span class="nx">image</span><span class="p">,</span> <span class="nx">text</span><span class="p">,</span>
  <span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">Size</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>运行结果：</p>

<p><img src="/img/in-post/godailylib/fyne22.png#center" alt="" /></p>

<p>注意，<code>canvas.Text</code>显示为左对齐了。如果要居中对齐，设置其<code>Alignment</code>属性为<code>fyne.TextAlignCenter</code>。</p>

<h3 id="自定义-layout">自定义 Layout</h3>

<p>内置布局在子包<code>layout</code>中。它们都实现了<code>fyne.Layout</code>接口：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="c1">// src/fyne.io/fyne/layout.go
</span><span class="c1"></span><span class="kd">type</span> <span class="nx">Layout</span> <span class="kd">interface</span> <span class="p">{</span>
  <span class="nf">Layout</span><span class="p">([]</span><span class="nx">CanvasObject</span><span class="p">,</span> <span class="nx">Size</span><span class="p">)</span>
  <span class="nf">MinSize</span><span class="p">(</span><span class="nx">objects</span> <span class="p">[]</span><span class="nx">CanvasObject</span><span class="p">)</span> <span class="nx">Size</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>要实现自定义的布局，只需要实现这个接口。下面我们实现一个台阶（对角）的布局，好似一个矩阵的对角线，从左上到右下。首先定义一个新的类型。然后实现接口<code>fyne.Layout</code>的两个方法：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">type</span> <span class="nx">diagonal</span> <span class="kd">struct</span> <span class="p">{</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="o">*</span><span class="nx">diagonal</span><span class="p">)</span> <span class="nf">MinSize</span><span class="p">(</span><span class="nx">objects</span> <span class="p">[]</span><span class="nx">fyne</span><span class="p">.</span><span class="nx">CanvasObject</span><span class="p">)</span> <span class="nx">fyne</span><span class="p">.</span><span class="nx">Size</span> <span class="p">{</span>
  <span class="nx">w</span><span class="p">,</span> <span class="nx">h</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
  <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">o</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">objects</span> <span class="p">{</span>
    <span class="nx">childSize</span> <span class="o">:=</span> <span class="nx">o</span><span class="p">.</span><span class="nf">MinSize</span><span class="p">()</span>

    <span class="nx">w</span> <span class="o">+=</span> <span class="nx">childSize</span><span class="p">.</span><span class="nx">Width</span>
    <span class="nx">h</span> <span class="o">+=</span> <span class="nx">childSize</span><span class="p">.</span><span class="nx">Height</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewSize</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="nx">h</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="o">*</span><span class="nx">diagonal</span><span class="p">)</span> <span class="nf">Layout</span><span class="p">(</span><span class="nx">objects</span> <span class="p">[]</span><span class="nx">fyne</span><span class="p">.</span><span class="nx">CanvasObject</span><span class="p">,</span> <span class="nx">containerSize</span> <span class="nx">fyne</span><span class="p">.</span><span class="nx">Size</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">pos</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewPos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
  <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">o</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">objects</span> <span class="p">{</span>
    <span class="nx">size</span> <span class="o">:=</span> <span class="nx">o</span><span class="p">.</span><span class="nf">MinSize</span><span class="p">()</span>
    <span class="nx">o</span><span class="p">.</span><span class="nf">Resize</span><span class="p">(</span><span class="nx">size</span><span class="p">)</span>
    <span class="nx">o</span><span class="p">.</span><span class="nf">Move</span><span class="p">(</span><span class="nx">pos</span><span class="p">)</span>

    <span class="nx">pos</span> <span class="p">=</span> <span class="nx">pos</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nx">fyne</span><span class="p">.</span><span class="nf">NewPos</span><span class="p">(</span><span class="nx">size</span><span class="p">.</span><span class="nx">Width</span><span class="p">,</span> <span class="nx">size</span><span class="p">.</span><span class="nx">Height</span><span class="p">))</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p><code>MinSize()</code>返回所有子控件的<code>MinSize</code>之和。<code>Layout()</code>从左上到右下排列控件。然后是使用：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWindow</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Diagonal Layout&#34;</span><span class="p">)</span>

  <span class="nx">img1</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">())</span>
  <span class="nx">img1</span><span class="p">.</span><span class="nx">FillMode</span> <span class="p">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">ImageFillOriginal</span>
  <span class="nx">img2</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">())</span>
  <span class="nx">img2</span><span class="p">.</span><span class="nx">FillMode</span> <span class="p">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">ImageFillOriginal</span>
  <span class="nx">img3</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">())</span>
  <span class="nx">img3</span><span class="p">.</span><span class="nx">FillMode</span> <span class="p">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">ImageFillOriginal</span>

  <span class="nx">container</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span>
    <span class="o">&amp;</span><span class="nx">diagonal</span><span class="p">{},</span>
    <span class="nx">img1</span><span class="p">,</span> <span class="nx">img2</span><span class="p">,</span> <span class="nx">img3</span><span class="p">,</span>
  <span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>运行结果：</p>

<p><img src="/img/in-post/godailylib/fyne24.png#center" alt="" /></p>

<h2 id="fyne-demo">fyne demo</h2>

<p><code>fyne</code>提供了一个 Demo，演示了大部分控件和布局的使用。可使用下面命令安装，执行：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-cmd" data-lang="cmd"><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-cmd" data-lang="cmd">$ go get fyne.io/fyne/cmd/fyne_demo
$ fyne_demo</code></pre></td></tr></table>
</div>
</div>
<p>效果图：</p>

<p><img src="/img/in-post/godailylib/fyne27.png#center" alt="" /></p>

<h2 id="fyne-命令"><code>fyne</code>命令</h2>

<p><code>fyne</code>库为了方便开发者提供了<code>fyne</code>命令。<code>fyne</code>可以用来将静态资源打包进可执行程序，还能将整个应用程序打包成可发布的形式。<code>fyne</code>命令通过下面命令安装：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-cmd" data-lang="cmd"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-cmd" data-lang="cmd">$ go get fyne.io/fyne/cmd/fyne</code></pre></td></tr></table>
</div>
</div>
<p>安装完成之后<code>fyne</code>就在<code>$GOPATH/bin</code>目录中，将<code>$GOPATH/bin</code>添加到系统<code>$PATH</code>中就可以直接运行<code>fyne</code>命令了。</p>

<h3 id="静态资源">静态资源</h3>

<p>其实在前面的示例中我们已经多次使用了<code>fyne</code>内置的静态资源，使用最多的要属<code>fyne.FyneLogo()</code>了。下面我们有两个图片<code>image1.png/image2.jpg</code>。我们使用<code>fyne bundle</code>命令将这两个图片打包进代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-cmd" data-lang="cmd"><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-cmd" data-lang="cmd">$ fyne bundle image1.png <span class="p">&gt;&gt;</span> bundled.go
$ fyne bundle -append image2.jpg <span class="p">&gt;&gt;</span> bundled.go</code></pre></td></tr></table>
</div>
</div>
<p>第二个命令指定<code>-append</code>选项表示添加到现有文件中，生成的文件如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="c1">// bundled.go
</span><span class="c1"></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">&#34;fyne.io/fyne&#34;</span>

<span class="kd">var</span> <span class="nx">resourceImage1Png</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">fyne</span><span class="p">.</span><span class="nx">StaticResource</span><span class="p">{</span>
	<span class="nx">StaticName</span><span class="p">:</span> <span class="s">&#34;image1.png&#34;</span><span class="p">,</span>
	<span class="nx">StaticContent</span><span class="p">:</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">{</span><span class="o">...</span><span class="p">}}</span>

<span class="kd">var</span> <span class="nx">resourceImage2Jpg</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">fyne</span><span class="p">.</span><span class="nx">StaticResource</span><span class="p">{</span>
	<span class="nx">StaticName</span><span class="p">:</span> <span class="s">&#34;image2.jpg&#34;</span><span class="p">,</span>
	<span class="nx">StaticContent</span><span class="p">:</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">{</span><span class="o">...</span><span class="p">}}</span></code></pre></td></tr></table>
</div>
</div>
<p>实际上就是将图片内容存入一个字节切片中，我们在代码中就可以调用<code>canvas.NewImageFromResource()</code>，传入<code>resourceImage1Png</code>或<code>resourceImage2Jpg</code>来创建<code>canvas.Image</code>对象了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">myApp</span> <span class="o">:=</span> <span class="nx">app</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
  <span class="nx">myWindow</span> <span class="o">:=</span> <span class="nx">myApp</span><span class="p">.</span><span class="nf">NewWindow</span><span class="p">(</span><span class="s">&#34;Bundle Resource&#34;</span><span class="p">)</span>

  <span class="nx">img1</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">resourceImage1Png</span><span class="p">)</span>
  <span class="nx">img1</span><span class="p">.</span><span class="nx">FillMode</span> <span class="p">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">ImageFillOriginal</span>
  <span class="nx">img2</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">resourceImage2Jpg</span><span class="p">)</span>
  <span class="nx">img2</span><span class="p">.</span><span class="nx">FillMode</span> <span class="p">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">ImageFillOriginal</span>
  <span class="nx">img3</span> <span class="o">:=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">NewImageFromResource</span><span class="p">(</span><span class="nx">theme</span><span class="p">.</span><span class="nf">FyneLogo</span><span class="p">())</span>
  <span class="nx">img3</span><span class="p">.</span><span class="nx">FillMode</span> <span class="p">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">ImageFillOriginal</span>

  <span class="nx">container</span> <span class="o">:=</span> <span class="nx">fyne</span><span class="p">.</span><span class="nf">NewContainerWithLayout</span><span class="p">(</span>
    <span class="nx">layout</span><span class="p">.</span><span class="nf">NewGridLayout</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
    <span class="nx">img1</span><span class="p">,</span> <span class="nx">img2</span><span class="p">,</span> <span class="nx">img3</span><span class="p">,</span>
  <span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">SetContent</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
  <span class="nx">myWindow</span><span class="p">.</span><span class="nf">ShowAndRun</span><span class="p">()</span>
<span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
<p>运行结果：</p>

<p><img src="/img/in-post/godailylib/fyne25.png#center" alt="" /></p>

<p>注意，由于现在是两个文件，不能使用<code>go run main.go</code>，应该用<code>go run .</code>。</p>

<p><code>theme.FyneLogo()</code>实际上是也是提前打包进代码的，代码文件是<code>bundled-icons.go</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-golang" data-lang="golang"><span class="c1">// src/fyne.io/fyne/theme/icons.go
</span><span class="c1"></span><span class="kd">func</span> <span class="nf">FyneLogo</span><span class="p">()</span> <span class="nx">fyne</span><span class="p">.</span><span class="nx">Resource</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">fynelogo</span>
<span class="p">}</span>

<span class="c1">// src/fyne.io/fyne/theme/bundled-icons.go
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">fynelogo</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">fyne</span><span class="p">.</span><span class="nx">StaticResource</span><span class="p">{</span>
	<span class="nx">StaticName</span><span class="p">:</span> <span class="s">&#34;fyne.png&#34;</span><span class="p">,</span>
	<span class="nx">StaticContent</span><span class="p">:</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">{}}</span></code></pre></td></tr></table>
</div>
</div>
<h3 id="发布应用程序">发布应用程序</h3>

<p>发布图像应用程序到多个操作系统是非常复杂的任务。图形界面应用程序通常有图标和一些元数据。<code>fyne</code>命令提供了将应用程序发布到多个平台的支持。使用<code>fyne package</code>命令将创建一个可在其它计算机上安装/运行的应用程序。在 Windows 上，<code>fyne package</code>会创建一个<code>.exe</code>文件。在 macOS 上，会创建一个<code>.app</code>文件。在 Linux 上，会生成一个<code>.tar.xz</code>文件，可手动安装。</p>

<p>我们将上面的应用程序打包成一个<code>exe</code>文件：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-cmd" data-lang="cmd"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-cmd" data-lang="cmd">$ fyne package -os windows -icon icon.jpg</code></pre></td></tr></table>
</div>
</div>
<p>上面命令会在同目录下生成两个文件<code>bundle.exe</code>和<code>fyne.syso</code>，将这两个文件拷贝到任何目录或其他 Windows 计算机都可以通过直接双击<code>bundle.exe</code>运行了。没有其他的依赖。</p>

<p><img src="/img/in-post/godailylib/fyne26.png#center" alt="" /></p>

<p><code>fyne</code>还支持交叉编译，能在 windows 上编译 mac 的应用程序，不过需要安装额外的工具，感兴趣可自行探索。</p>

<h2 id="总结">总结</h2>

<p><code>fyne</code>提供了丰富的组件和功能，我们介绍的只是很基础的一部分，还有剪切板、快捷键、滚动条、菜单等等等等内容。<code>fyne</code>命令实现打包静态资源和应用程序，非常方便。<code>fyne</code>还有其他高级功能留待大家探索、挖掘~</p>

<p>大家如果发现好玩、好用的 Go 语言库，欢迎到 Go 每日一库 GitHub 上提交 issue😄</p>

<h2 id="参考">参考</h2>

<ol>
<li>fyne GitHub：<a href="https://github.com/fyne-io/fyne">https://github.com/fyne-io/fyne</a></li>
<li>fyne 官网：<a href="https://fyne.io/">https://fyne.io/</a></li>
<li>fyne 官方入门教程：<a href="https://developer.fyne.io/tour/introduction/hello.html">https://developer.fyne.io/tour/introduction/hello.html</a></li>
<li>Go 每日一库 GitHub：<a href="https://github.com/darjun/go-daily-lib">https://github.com/darjun/go-daily-lib</a></li>
</ol>

<h2 id="我">我</h2>

<p>我的博客：<a href="https://darjun.github.io">https://darjun.github.io</a></p>

<p>欢迎关注我的微信公众号【GoUpUp】，共同学习，一起进步~</p>

<p><img src="/img/wxgzh8.jpg#center" alt="" /></p>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">darjun</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
      2020-06-15
      
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>


    
    

    <footer class="post-footer">
      <div class="post-tags">
          
        </div>

      
      <nav class="post-nav">
        
          <a class="prev" href="/2020/06/18/godailylib/fyne2/">
            
            <i class="iconfont">
              <svg  class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417 757.434875 204.940602c11.338233-12.190647 11.035334-32.285311-0.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-0.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891 0.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"></path>
</svg>

            </i>
            <span class="prev-text nav-default">使用 fyne 编写一个计算器</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/2020/06/12/godailylib/casbin/">
            <span class="next-text nav-default">Go 每日一库之 casbin</span>
            <span class="prev-text nav-mobile">下一篇</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "darjun/blog-comments"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="mailto:leedarjun@gmail.com" rel="me noopener" class="iconfont"
      title="email" >
      <svg class="icon" viewBox="0 0 1451 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M664.781909 681.472759 0 97.881301C0 3.997201 71.046997 0 71.046997 0L474.477909 0 961.649408 0 1361.641813 0C1361.641813 0 1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759C771.345323 681.472759 764.482731 685.154773 753.594283 688.65053L753.594283 688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858L682.561621 688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759L664.781909 681.472759ZM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633 0 212.052267 0 212.052267L0 942.809523C0 942.809523 0 1024 83.726336 1024L682.532949 1024 753.579947 1024 1348.948139 1024C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523L1432.688811 212.052267C1432.688811 212.052267 893.138176 701.759633 817.019477 767.734955 777.248 802.205449 742.347691 811.03081 718.063616 811.603883L718.063616 811.603883Z"></path>
</svg>

    </a>
  
    <a href="https://github.com/darjun" rel="me noopener" class="iconfont"
      title="github"  target="_blank"
      >
      <svg class="icon" style="" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667 0-12.16-0.426667-44.373333-0.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333 0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333 0 0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667 0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72 0 68.522667-0.64 123.562667-0.64 140.202666 0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"></path>
</svg>

    </a>


<a href="https://darjun.github.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2018 -
    2021
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span><span class="author">
        大俊
        
      </span></span>

  
  
    <span id="busuanzi_container">
      访客数/访问量：<span id="busuanzi_value_site_uv"></span>/<span id="busuanzi_value_site_pv"></span>
    </span>
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.dee43230127a73d039a734510fa896c89c3c7ce0cf0be0c7a7433f8fd69b76dc.js" integrity="sha256-3uQyMBJ6c9A5pzRRD6iWyJw8fODPC&#43;DHp0M/j9abdtw=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  




  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>












</body>
</html>
